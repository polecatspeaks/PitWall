<Window xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:LMUMemoryReader"
    mc:Ignorable="d" d:DesignWidth="400" d:DesignHeight="300"
    x:Class="LMUMemoryReader.MainWindow"
    x:DataType="local:MainViewModel"
        Title="LMU Memory Reader"
        Width="400"
        Height="300"
        MinWidth="380"
        MinHeight="280">
    <Grid Margin="12" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,*" ColumnDefinitions="*,Auto">
        <TextBlock Grid.Row="0" Grid.ColumnSpan="2" Text="Output Directory" />
        <TextBox Grid.Row="1" Grid.Column="0"
                 Text="{Binding OutputDirectory, Mode=TwoWay}"
                 VerticalContentAlignment="Center" />
        <Button Grid.Row="1" Grid.Column="1" Margin="6,0,0,0" Content="Browse" Click="OnBrowseClick" />

        <StackPanel Grid.Row="2" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,8,0,0">
            <Ellipse Width="10" Height="10" Fill="{Binding ConnectionStatusBrush}" Margin="0,3,6,0" />
            <TextBlock Text="{Binding ConnectionStatusText}" />
        </StackPanel>

        <StackPanel Grid.Row="3" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,4,0,0">
            <Ellipse Width="10" Height="10" Fill="{Binding DataValidityBrush}" Margin="0,3,6,0" />
            <TextBlock Text="{Binding DataValidityText}" />
        </StackPanel>

        <TextBlock Grid.Row="4" Grid.ColumnSpan="2" Margin="0,6,0,0" Text="{Binding DataPointsText}" />
        <TextBlock Grid.Row="5" Grid.ColumnSpan="2" Margin="0,4,0,0" Text="{Binding LastSampleText}" />
        <TextBlock Grid.Row="6" Grid.ColumnSpan="2" Margin="0,6,0,0" TextWrapping="Wrap" Text="{Binding SessionInfo}" />
        <TextBlock Grid.Row="7" Grid.ColumnSpan="2" Margin="0,6,0,0" TextWrapping="Wrap" Text="{Binding OutputFilePathText}" />

        <StackPanel Grid.Row="8" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Width="120" Content="{Binding StartStopText}" Click="OnStartStopClick" />
            <Button Width="60" Margin="6,0,0,0" Content="Clear" Click="OnClearClick" />
            <Button Width="60" Margin="6,0,0,0" Content="Exit" Click="OnExitClick" />
        </StackPanel>
    </Grid>
</Window>
